---
import { sanityClient } from 'sanity:client';

const siteSettings = await sanityClient.fetch(`*[_type == "siteSettings"][0]`);
const aboutPage = await sanityClient.fetch(`*[_type == "page" && slug.current == "about"][0]`);

const summary = aboutPage?.summary || siteSettings?.siteDescription;
const title = aboutPage?.title || 'About Us';
---

{summary && (
  <section class="about-summary container">
    <h2>{title}</h2>
    <p>{summary}</p>
    {aboutPage && (
      <div class="about-cta">
        <a href="/about" class="button">Learn More</a>
      </div>
    )}
  </section>
)}

<style>
  .about-summary {
    padding-block: 4rem;
    text-align: center;
    max-width: 800px;
  }

  h2 {
    font-family: var(--heading-font);
    font-size: 2.5rem;
    color: var(--primary-color);
    margin-block: 0 1rem;
  }

  p {
    color: var(--gray-60);
    font-size: 1.25rem;
    line-height: 1.8;
    margin-block: 0;
  }

  .about-cta {
    margin-block-start: 2rem;
  }
</style>
