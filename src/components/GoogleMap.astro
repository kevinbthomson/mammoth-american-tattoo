---
import { sanityClient } from 'sanity:client';

const siteSettings = await sanityClient.fetch(`*[_type == "siteSettings"]`);
const { address, phone, email } = siteSettings[0];
---

<section class="google-map container">
  <div class="map-wrapper">
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3067.330395729903!2d-104.96680862325728!3d39.75468969566601!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x876b879cac505b19%3A0xf28717647faec95e!2sMammoth%20American%20Tattoo!5e0!3m2!1sen!2sus!4v1765332864745!5m2!1sen!2sus"
      width="100%"
      height="100%"
      style="border:0;"
      allowfullscreen
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>

  <div class="map-info">
    <h2>Visit the Studio</h2>
    <p>Walk-ins are welcome, but appointments are recommended to guarantee your spot. Stop by or reach out to get started on your next piece.</p>

    <div class="map-details">
      <div class="detail">
        <h3>Address</h3>
        <p><a href="https://www.google.com/maps/place/Mammoth+American+Tattoo" target="_blank">{address}</a></p>
      </div>

      <div class="detail">
        <h3>Hours</h3>
        <p>Wednesday &ndash; Saturday<br />11:00am &ndash; 7:00pm</p>
        <p>Or by Appointment</p>
      </div>

      <div class="detail">
        <h3>Contact</h3>
        <p><a href=`tel:${phone}`>{phone}</a></p>
        <p><a href=`mailto:${email}`>{email}</a></p>
      </div>
    </div>
  </div>
</section>

<style>
  .google-map {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    padding-block: 4rem;
  }

  .map-wrapper {
    min-height: 400px;
    border-radius: 0.25rem;
    overflow: hidden;
  }

  .map-info {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .map-info h2 {
    font-family: var(--heading-font);
    font-size: 2.5rem;
    margin-block: 0 1rem;
    color: var(--primary-color);
  }

  .map-info > p {
    margin-block: 0 2rem;
    color: var(--gray-60);
  }

  .map-details {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .detail h3 {
    font-size: 1.25rem;
    margin-block: 0 0.25rem;
    color: var(--primary-color);
  }

  .detail p {
    margin-block: 0;
  }

  @media screen and (min-width: 768px) {
    .google-map {
      grid-template-columns: 1fr 1fr;
    }

    .map-wrapper {
      min-height: 500px;
    }
  }
</style>
